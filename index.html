<html ng-app="appMachine">
<head>
	<title>SkaSequencer</title>
	<link rel="stylesheet" href="css/style.css"/>
	<script src="src/json/drums.js"></script>
	<script src="src/instrument.js"></script>
	<script src="src/composition.js"></script>
	<!--
	<script src="src/sequencer.js"></script>
	-->
	<script src="libs/angular.js"></script>
	<script src="src/angular/controller.js"></script>
	<script src="src/angular/sequencer.js"></script>
	<script src="src/angular/sound.js"></script>

</head>
<body>
	<div ng-controller="MachineController" ng-init="init();" ng-keyup="event=$event">
	<table>
		<tr>
			<td><input type="button" name="kick" value="kick" ng-click="play('kick');"/></td>
			<td><input type="button" name="snare" value="snare" ng-click="play('snare');"/></td>
			<td><input type="button" name="hihat" value="hihat" ng-click="play('hihat');"/></td>
			<td><input type="button" name="ride" value="ride" ng-click="play('ride');"/></td>
			<td><input type="button" name="play" value="play" ng-click="run();"/></td>
			<td><input type="button" name="stop" value="stop" ng-click="stop();"/></td>
			<td><input type="text" name="step" ng-model="stepValue" ng-bind="stepValue"/></td>
		</tr>
	</table>

	<div class="controls">
		<div class="display">

		</div>

		<div class="resetFloat"></div>

		<div class="library">
			<div class="map">
				<div class="map row">
					<div class="map element"></div>
					<div class="map element"></div>
					<div class="map element"></div>
					<div class="map element"></div>
				</div>
				<div class="map row">
					<div class="map element"></div>
					<div class="map element"></div>
					<div class="map element"></div>
					<div class="map element"></div>
				</div>
				<div class="map row">
					<div class="map element"></div>
					<div class="map element"></div>
					<div class="map element"></div>
					<div class="map element"></div>
				</div>
				<div class="map row">
					<div class="map element" ng-click="play('kick');select(0);" ng-class="{mapSelected: mapSelected==0}">Kick</div>
					<div class="map element" ng-click="play('snare');select(1);" ng-class="{mapSelected: mapSelected==1}">Snare</div>
					<div class="map element" ng-click="play('hihat');select(2);" ng-class="{mapSelected: mapSelected==2}">Hi Hat</div>
					<div class="map element"></div>
				</div>
			</div>
		</div>

		<div class="playback">
			<div class="playback row">
				<div class="playback element" ng-click="run();">Play</div>
				<div class="playback element" ng-click="stop();">Stop</div>
				<div class="playback stepCounter"> {{ stepValue }} </div>
			</div>
		</div>
	</div>

		<div class="matrix" id="matrix">
			<div class="matrix row">
				<div class="matrix element" id="step12" ng-class="{current: (stepValue==12 || soundSelected[12]==1)}" ng-click="selectStep(12);"></div>
				<div class="matrix element" id="step13" ng-class="{current: (stepValue==13 || soundSelected[13]==1)}" ng-click="selectStep(13);"></div>
				<div class="matrix element" id="step14" ng-class="{current: (stepValue==14 || soundSelected[14]==1)}" ng-click="selectStep(14);"></div>
				<div class="matrix element" id="step15" ng-class="{current: (stepValue==15 || soundSelected[15]==1)}" ng-click="selectStep(15);"></div>
			</div>
			<div class="matrix row">
				<div class="matrix element" id="step8" ng-class="{current: (stepValue==8 || soundSelected[8]==1)}" ng-click="selectStep(8);"></div>
				<div class="matrix element" id="step9" ng-class="{current: (stepValue==9 || soundSelected[9]==1)}" ng-click="selectStep(9);"></div>
				<div class="matrix element" id="step10" ng-class="{current: (stepValue==10 || soundSelected[10]==1)}"ng-click="selectStep(10);"></div>
				<div class="matrix element" id="step11" ng-class="{current: (stepValue==11 || soundSelected[11]==1)}" ng-click="selectStep(11);"></div>
			</div>
			<div class="matrix row">
				<div class="matrix element" id="step4" ng-class="{current: (stepValue==4 || soundSelected[4]==1)}" ng-click="selectStep(4);"></div>
				<div class="matrix element" id="step5" ng-class="{current: (stepValue==5 || soundSelected[5]==1)}" ng-click="selectStep(5);"></div>
				<div class="matrix element" id="step6" ng-class="{current: (stepValue==6 || soundSelected[6]==1)}" ng-click="selectStep(6);"></div>
				<div class="matrix element" id="step7" ng-class="{current: (stepValue==7 || soundSelected[7]==1)}" ng-click="selectStep(7);"></div>
			</div>
			<div class="matrix row">
				<div class="matrix element" id="step0" ng-class="{current: (stepValue==0 || soundSelected[0]==1)}" ng-click="selectStep(0);"></div>
				<div class="matrix element" id="step1" ng-class="{current: (stepValue==1 || soundSelected[1]==1)}" ng-click="selectStep(1);"></div>
				<div class="matrix element" id="step2" ng-class="{current: (stepValue==2 || soundSelected[2]==1)}" ng-click="selectStep(2);"></div>
				<div class="matrix element" id="step3" ng-class="{current: (stepValue==3 || soundSelected[3]==1)}" ng-click="selectStep(3);"></div>
			</div>
		</div>
	</div>
</body>
</html>